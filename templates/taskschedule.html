{% extends 'master/layout.html' %}
{% block content %}
    <!-- 为ECharts准备一个具备大小（宽高）的Dom -->
    <div class="newcasetitle1">
        <p>排期管理</p>
    </div>
    <div id="main" style="height:600px;width: 1200px;"></div>
    <!-- ECharts单文件引入 -->
    <script type="text/javascript">
        /**加载时脚本*/
        $(function () {
            // 基于准备好的dom，初始化echarts图表
            var myChart = echarts.init(document.getElementById('main'));
            // 准备数据
            var dstaObj = getData();
            // 获取option
            var ganttOption = getGanttOption(dstaObj);
            // 为echarts对象加载数据
            myChart.setOption(ganttOption);
        });
        /**获取数据*/
        function getData() {
            //图例数据
            var legendData = [];
            //y轴数据
            var yAxisData = ['6号房', '5号房', '4号房', '3号房', '2号房', '1号房'];
            //辅助留白数据
            var blankData = [10, 0, 3, 6, 6, 6];
            //查封数据
            var chaFengData = [
                '-',
{#                '-', {#}
{#                    value: 33,#}
{#                    startDate: '2014.09.02',#}
{#                    endDate: '2014.10.06',#}
{#                    desc: ''#}
{#                }#}
            ];
            //轮候查封数据
            var lunHouChaFengData = [{
                value: 20,
                startDate: '2018-03-08',
                endDate: '2018-03-28',
                desc: '6号房'
            }, {
                value: 30,
                startDate: '2018.02.28',
                endDate: '2018.03.28',
                desc: '5号房'
            }, {
                value: 4,
                startDate: '2018.03.01',
                endDate: '2018.03.04',
                desc: '4号房'
            }, {
                value: 10,
                startDate: '2018.03.04',
                endDate: '2018.03.14',
                desc: '3号房'
            }, {
                value: 20,
                startDate: '2018.03.04',
                endDate: '2018.03.24',
                desc: '2号房'
            }, {
                value: 10,
                //value:{{ data.starttime.date|safe}} - {{data.endtime.date|safe }}
                //startDate: '2018.02.28',
                startDate:{{ data.starttime|date:"Y-m-d" |safe }},
                endDate: {{ data.starttime|date:"Y" |safe }},
                desc: '1号房'
            },
                '-'
            ];
            var obj = new Object();
            obj.legendData = legendData;
            obj.yAxisData = yAxisData;
            obj.blankData = blankData;
            obj.chaFengData = chaFengData;
            obj.lunHouChaFengData = lunHouChaFengData;
            return obj;
        }
    </script>
{% endblock %}